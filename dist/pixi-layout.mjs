/*!
 * @pixi/layout - v2.0.1
 * Compiled Thu, 18 Jul 2024 19:51:15 UTC
 *
 * @pixi/layout is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2024, PixiJS Team, All Rights Reserved
 */import{Text as $,Sprite as J,Graphics as V,Container as B,NineSliceSprite as Ht,TilingSprite as It}from"pixi.js";function fe([i,t,e]){return parseInt(`0x${U(i)}${U(t)}${U(e)}`,16)}function U(i){const t=i.toString(16);return t.length===1?`0${t}`:t}function be(i){return i!=null}function E(i,t){if(i!==void 0){if(typeof i=="number")return i;if(typeof i=="string"){if(i.endsWith("px"))return Math.floor(parseInt(i.slice(0,-2),10));if(i.endsWith("%")){const e=parseInt(i.slice(0,-1),10);return Math.floor(t?t/100*e:e)}return Math.floor(parseInt(i,10))}return 0}}function K(i){var t,e;const n={align:i==null?void 0:i.textAlign,breakWords:i==null?void 0:i.breakWords,dropShadow:i==null?void 0:i.dropShadow,fill:(t=i==null?void 0:i.fill)!=null?t:i==null?void 0:i.color,fontFamily:i==null?void 0:i.fontFamily,fontSize:i==null?void 0:i.fontSize,fontStyle:i==null?void 0:i.fontStyle,fontVariant:i==null?void 0:i.fontVariant,fontWeight:i==null?void 0:i.fontWeight,leading:i==null?void 0:i.leading,textBaseline:i==null?void 0:i.textBaseline,letterSpacing:i==null?void 0:i.letterSpacing,lineHeight:i==null?void 0:i.lineHeight,trim:i==null?void 0:i.trim,stroke:i==null?void 0:i.stroke,whiteSpace:i==null?void 0:i.whiteSpace,wordWrap:i==null?void 0:i.wordWrap,wordWrapWidth:(e=i==null?void 0:i.wordWrapWidth)!=null?e:100};for(const a in n)n[a]===void 0&&delete n[a];return n}function q(i){return i.content.children.size===1?i.content.children.entries().next().value[1]instanceof $:!1}var Ft=Object.defineProperty,Vt=Object.defineProperties,Jt=Object.getOwnPropertyDescriptors,Ot=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,Z=(i,t,e)=>t in i?Ft(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,_=(i,t)=>{for(var e in t||(t={}))Ut.call(t,e)&&Z(i,e,t[e]);if(Ot)for(var e of Ot(t))Kt.call(t,e)&&Z(i,e,t[e]);return i},Zt=(i,t)=>Vt(i,Jt(t)),Mt=(i,t,e)=>(Z(i,typeof t!="symbol"?t+"":t,e),e);class Et{constructor(t,e,n){Mt(this,"layout"),Mt(this,"children",new Map),this.layout=t,this.children=new Map,this.createContent(e,n),this.layout.container.on("childRemoved",a=>this.onChildRemoved(a))}createContent(t,e){if(!t)return;const n=this.getContentType(t),a=this.newID;switch(n){case"layout":const c=t;c.id||(c.id=`layout-${a}`),this.addContentElement(c.id,c);break;case"container":this.addContentElement(`container-${a}`,t);break;case"string":const d=new $({text:t,style:this.layout.textStyle});this.addContentElement(`text-${a}`,d);break;case"text":const y=t;for(const g in this.layout.textStyle){const h=g;y.style[h]=this.layout.textStyle[h]}this.addContentElement(`text-${a}`,y);break;case"layoutConfig":const r=t;e&&(r.globalStyles?r.globalStyles=_(_({},e),r.globalStyles):r.globalStyles=_({},e)),r.id||(r.id=`layout-${a}`),this.addContentElement(r.id,new Y(r));break;case"object":const p=t;for(const g in p){const h=g,u=t[h],o=this.getContentType(u);let s=this.layout.textStyle;switch(o){case"string":e&&e[h]&&(s=_(_({},s),K(e[h])));const l=new $({text:u,style:s});this.addContentElement(h,l);break;case"text":const f=u;e&&e[h]&&(s=_(_({},s),K(e[h]))),f.style=s,this.addContentElement(h,f);break;case"layout":const m=u;e&&e[h]&&(m.setStyles(e[h]),m.layout.updateParents()),this.createContent(m);break;case"container":this.addContentElement(h,u);break;case"layoutConfig":this.createContent(Zt(_({},u),{globalStyles:e,id:h}));break;case"object":this.createContent(u,e);break;case"array":this.createContent(u,e);break;default:}}break;case"array":t.forEach(g=>this.createContent(g,e));break;default:throw new Error("Unknown content type of the layout.")}}addContentElement(t,e){t&&this.children.has(t)&&console.error(`Element with '${t}' duplicates, be careful using id selectors with it.`),this.children.set(t,e),this.layout.container.addChild(e)}get firstChild(){return this.children.get(this.children.keys().next().value)}resize(t,e){this.children.forEach(n=>{(n.isPixiLayout||n instanceof Y)&&n.layout.resize(t,e)})}get newID(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getByID(t){let e=this.children.get(t);return e||this.children.forEach(n=>{if(n.isPixiLayout||n instanceof Y){const a=n.layout.content.getByID(t);a&&(e=a)}}),e}getContentType(t){return typeof t=="string"?"string":t instanceof $?"text":t instanceof Y||t.isPixiLayout?"layout":t instanceof J||t instanceof V||t instanceof B?t.isPixiLayout?"layout":"container":Array.isArray(t)?"array":typeof t=="object"?t!=null&&t.content?"layoutConfig":"object":"unknown"}removeContent(t){const e=this.getByID(t);e&&(this.layout.container.removeChild(e),this.children.delete(t))}onChildRemoved(t){const e=this.getChild(t);e&&(this.children.delete(e),this.layout.updateParents())}getChild(t){for(const[e,n]of this.children.entries())if(n===t)return e}}var Qt=Object.defineProperty,te=(i,t,e)=>t in i?Qt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,D=(i,t,e)=>(te(i,typeof t!="symbol"?t+"":t,e),e);class _t{constructor(t){D(this,"layout"),D(this,"_width"),D(this,"_height"),D(this,"bg"),D(this,"overflowMask"),D(this,"parentWidth",0),D(this,"parentHeight",0),this.layout=t}resize(t,e){var n,a,c,d,y,r,p,g,h,u;let o=0,s=0;t!==void 0&&(this.parentWidth=t),e!==void 0&&(this.parentHeight=e);const{width:l,height:f,maxWidth:m,maxHeight:w,minWidth:v,minHeight:R,scaleX:H,scaleY:I,background:L,paddingLeft:z,paddingRight:P,paddingTop:b,paddingBottom:k,aspectRatio:S}=this.layout.style,O=this.getAutoSizeModificator(l),N=this.getAutoSizeModificator(f);switch(O){case"innerText":this.innerText.style.wordWrap=!1;const A=(d=(c=(a=(n=this.layout.container.parent)==null?void 0:n.layout)==null?void 0:a.style)==null?void 0:c.paddingLeft)!=null?d:0,C=(g=(p=(r=(y=this.layout.container.parent)==null?void 0:y.layout)==null?void 0:r.style)==null?void 0:p.paddingRight)!=null?g:0,x=z+P+A+C,F=this.parentWidth-x;this.innerText.width+x>this.parentWidth&&(this.innerText.style.wordWrap=!0,this.innerText.style.wordWrapWidth=F),o=this.innerText.width+z+P;break;case"background":o=L.width;break;case"contentSize":let M=0;this.layout.content.resize(this.parentWidth,this.parentHeight);const{firstChild:T}=this.layout.content;T&&T.layout?M+=T.width+T.layout.style.marginLeft+T.layout.style.marginRight:T instanceof B&&T.width&&(M+=T.width),this.layout.content.children.forEach(W=>{if(W!==T)if(W.layout&&W.layout.style.display!=="block"){if(W.layout.style.position)return;M+=W.width+W.layout.style.marginLeft}else W instanceof B&&W.width&&(M+=W.width)}),o=M+z+P;break;case"parentSize":o=this.parentWidth;break;case"static":default:o=E(l,this.parentWidth);break}switch(N){case"innerText":s=((h=this.innerText)==null?void 0:h.height)+k+b;break;case"background":s=L.height;break;case"parentSize":s=this.parentHeight;break;case"contentSize":let A=0;this.layout.content.resize(this.parentWidth,this.parentHeight);const{firstChild:C}=this.layout.content;C instanceof B&&C.height?A+=C.height:C&&C.layout&&(C.layout.style.position||(A+=C.height)),this.layout.content.children.forEach(x=>{x!==C&&(x.layout&&x.layout.style.position||(x.layout&&x.layout.style.display==="block"?A+=x.height:x.height>A&&(A=x.height)))}),q(this.layout)&&(s=(u=this.innerText)==null?void 0:u.height),s=A+b+k;break;case"static":default:s=E(f,this.parentHeight);break}if(o<0&&(o=0),s<0&&(s=0),this._width=o,this._height=s,this.layout.container.scale.set(H,I),(S==="flex"||m||w||v||R)&&this.fitToSize(this.parentWidth,this.parentHeight),this.fitInnerText(o,s),this._width===0||this._height===0){this.layout.container.visible=!1;return}this.updateBG(o,s),this.updateMask(),this.layout.align.resize(this.parentWidth,this.parentHeight)}updateBG(t,e){const{background:n}=this.layout.style;if(n instanceof Ht||n instanceof It||n instanceof J||n instanceof B)switch(n instanceof J&&(n.anchor.set(.5),n.position.set(t/2,e/2)),this.bg||(this.bg=n,this.layout.container.addChildAt(this.bg,0)),this.layout.style.backgroundSize){case"contain":n.scale.set(Math.min(t/n.width,e/n.height));break;case"cover":n.scale.set(Math.max(t/n.width,e/n.height));break;case"stretch":n.width=t,n.height=e;break}else{const a=n!=="transparent"&&n,{borderRadius:c}=this.layout.style,{width:d,height:y}=this;if(a&&d&&y){this.bg||(this.bg=new V,this.layout.container.addChildAt(this.bg,0));let r=0,p=0;const{anchorX:g,anchorY:h}=this.layout.style;g!==void 0&&(r-=d*g),h!==void 0&&(p-=y*h),this.bg instanceof V&&this.bg.clear().roundRect(r,p,d,y,c).fill(a)}else this.bg&&(this.layout.container.removeChild(this.bg),delete this.bg)}}updateMask(){const{overflow:t,borderRadius:e}=this.layout.style,{width:n,height:a}=this;if(t==="hidden"&&n&&a){this.overflowMask||(this.overflowMask=new V,this.layout.container.addChild(this.overflowMask));let c=0,d=0;const{anchorX:y,anchorY:r}=this.layout.style;y!==void 0&&(c-=n*y),r!==void 0&&(d-=a*r),this.overflowMask.clear().roundRect(c,d,n,a,e).fill(16777215),this.layout.container.mask=this.overflowMask}else this.layout.container.mask=null,delete this.overflowMask}fitInnerText(t,e){var n,a;if(!q(this.layout))return;const{paddingLeft:c,paddingRight:d,paddingTop:y,paddingBottom:r}=this.layout.style;if(this.innerText.style.wordWrap){const p=(a=(n=this.layout.container)==null?void 0:n.scale.x)!=null?a:1;this.innerText.style.wordWrapWidth=(t-c-d)*p}else{this.innerText.scale.set(1);const p=this.innerText.width+c+d,g=this.innerText.height+y+r,h=p>t,u=g>e,o=t/(p+c+d),s=e/(g+r+y);(h||u)&&this.innerText.scale.set(Math.min(o,s))}}getAutoSizeModificator(t){const{background:e,display:n}=this.layout.style;return t!=="auto"?"static":n==="block"?"parentSize":e instanceof B&&e.width&&e.height?"background":q(this.layout)&&this.layout.style.wordWrap?"innerText":t==="auto"?"contentSize":"static"}get innerText(){if(!q(this.layout))return null;const{firstChild:t}=this.layout.content;return t}get width(){return this._width}set width(t){this._width=E(t,this.parentWidth),this.layout.align.resize(this.parentWidth,this.parentHeight)}get height(){return this._height}set height(t){this._height=E(t,this.parentHeight),this.layout.align.resize(this.parentWidth,this.parentHeight)}fitToSize(t,e){const{maxWidth:n,maxHeight:a,minWidth:c,minHeight:d,aspectRatio:y}=this.layout.style,{marginLeft:r,marginRight:p,marginBottom:g,marginTop:h}=this.layout.style,u=this.layout.container.scale.x,o=this.layout.container.scale.y,s=this.layout.width+r+p,l=this.layout.height+h+g,f=E(n,t),m=E(a,e),w=E(c,t),v=E(d,e);if(y==="flex"){f&&this.width>f&&(this.width=f),m&&this.height>m&&(this.height=m);let k,S;if(w&&this.width<w&&(k=this.width/w,this.width=w),v&&this.height<v&&(S=this.height/v,this.height=v),k||S){const O=k&&S?Math.min(k,S):k!=null?k:S;this.layout.container.scale.set(O)}return}const R=f/s,H=m/l,I=w/s,L=v/l;let z=u,P=o;s*u>f&&(z=R),l*o>m&&(P=H);let b=Math.min(z,P);(c||d)&&(c&&d?b=Math.max(I,L):c?b=z:d&&(b=L)),this.layout.container.scale.set(b)}}const ee={white:16777215,red:16711680,green:32768,blue:255,gray:8421504,yellow:16776960,gold:16766720,aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,blanchedalmond:16772045,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,goldenrod:14329120,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,whitesmoke:16119285,yellowgreen:10145074,black:0},ie=`Lorem ipsum dolor, sit amet consectetur adipisicing elit.

Ab praesentium velit minima unde beatae. Illo earum, rem iure unde nemo,

exercitationem nesciunt et voluptas nisi adipisci, provident cupiditate veritatis magnam?`,le=["block","inline-block","inline"],jt=["visible","hidden"],ne=["center","left","right","top","bottom","leftTop","rightTop","leftBottom","rightBottom","topLeft","topRight","bottomLeft","bottomRight","centerTop","centerBottom","centerLeft","centerRight","topCenter","bottomCenter","leftCenter","rightCenter"],se=["center","left","right","justify"],Dt=["middle","top","bottom"],Xt=["auto","contain","cover","stretch"];var oe=Object.defineProperty,Yt=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,Q=(i,t,e)=>t in i?oe(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,X=(i,t)=>{for(var e in t||(t={}))ae.call(t,e)&&Q(i,e,t[e]);if(Yt)for(var e of Yt(t))re.call(t,e)&&Q(i,e,t[e]);return i},G=(i,t,e)=>(Q(i,typeof t!="symbol"?t+"":t,e),e);class $t{constructor(t,e){G(this,"layout"),G(this,"styles",{}),G(this,"_textStyle",{}),G(this,"defaultStyles"),G(this,"conditionalStyles",{}),this.layout=t,this.set(e)}set(t){var e,n,a,c,d,y,r,p,g,h,u,o,s,l,f,m,w,v,R,H,I,L,z,P,b,k,S,O,N,A,C,x,F,M,T,W,it,lt,nt,st,ot,at,rt,ht,ut,dt,ct,yt,gt,pt,ft,bt,mt,vt,wt,kt,xt,St,Ct,zt,Tt,Wt,Rt,Lt,Pt,At,Bt;this.styles.overflow=(n=(e=t==null?void 0:t.overflow)!=null?e:this.styles.overflow)!=null?n:jt[0],this.styles.display=(c=(a=t==null?void 0:t.display)!=null?a:this.styles.display)!=null?c:"inline-block",this.styles.borderRadius=(y=(d=t==null?void 0:t.borderRadius)!=null?d:this.styles.borderRadius)!=null?y:0,this.styles.zIndex=(p=(r=t==null?void 0:t.zIndex)!=null?r:this.styles.zIndex)!=null?p:1,this.opacity=(h=(g=t==null?void 0:t.opacity)!=null?g:this.styles.opacity)!=null?h:1,this.styles.maxWidth=(u=t==null?void 0:t.maxWidth)!=null?u:this.styles.maxWidth,this.styles.maxHeight=(o=t==null?void 0:t.maxHeight)!=null?o:this.styles.maxHeight,this.styles.minWidth=(s=t==null?void 0:t.minWidth)!=null?s:this.styles.minWidth,this.styles.minHeight=(l=t==null?void 0:t.minHeight)!=null?l:this.styles.minHeight,this.styles.padding=(m=(f=t==null?void 0:t.padding)!=null?f:this.styles.padding)!=null?m:0,this.styles.paddingTop=(R=(v=(w=t==null?void 0:t.paddingTop)!=null?w:t==null?void 0:t.padding)!=null?v:this.styles.paddingTop)!=null?R:0,this.styles.paddingRight=(L=(I=(H=t==null?void 0:t.paddingRight)!=null?H:t==null?void 0:t.padding)!=null?I:this.styles.paddingRight)!=null?L:0,this.styles.paddingBottom=(b=(P=(z=t==null?void 0:t.paddingBottom)!=null?z:t==null?void 0:t.padding)!=null?P:this.styles.paddingBottom)!=null?b:0,this.styles.paddingLeft=(O=(S=(k=t==null?void 0:t.paddingLeft)!=null?k:t==null?void 0:t.padding)!=null?S:this.styles.paddingLeft)!=null?O:0,this.styles.margin=(A=(N=t==null?void 0:t.margin)!=null?N:this.styles.margin)!=null?A:0,this.styles.marginTop=(F=(x=(C=t==null?void 0:t.marginTop)!=null?C:t==null?void 0:t.margin)!=null?x:this.styles.marginTop)!=null?F:0,this.styles.marginRight=(W=(T=(M=t==null?void 0:t.marginRight)!=null?M:t==null?void 0:t.margin)!=null?T:this.styles.marginRight)!=null?W:0,this.styles.marginBottom=(nt=(lt=(it=t==null?void 0:t.marginBottom)!=null?it:t==null?void 0:t.margin)!=null?lt:this.styles.marginBottom)!=null?nt:0,this.styles.marginLeft=(at=(ot=(st=t==null?void 0:t.marginLeft)!=null?st:t==null?void 0:t.margin)!=null?ot:this.styles.marginLeft)!=null?at:0,this.styles.scale=(ht=(rt=t==null?void 0:t.scale)!=null?rt:this.styles.scale)!=null?ht:1,this.styles.scaleX=(ct=(dt=(ut=t==null?void 0:t.scaleX)!=null?ut:t==null?void 0:t.scale)!=null?dt:this.styles.scaleX)!=null?ct:1,this.styles.scaleY=(pt=(gt=(yt=t==null?void 0:t.scaleY)!=null?yt:t==null?void 0:t.scale)!=null?gt:this.styles.scaleY)!=null?pt:1,this.styles.width=(bt=(ft=t==null?void 0:t.width)!=null?ft:this.styles.width)!=null?bt:"auto",this.styles.height=(vt=(mt=t==null?void 0:t.height)!=null?mt:this.styles.height)!=null?vt:"auto",this.styles.wordWrap=(wt=t==null?void 0:t.wordWrap)!=null?wt:!1,(t==null?void 0:t.anchorX)!==void 0?this.styles.anchorX=t.anchorX:(t==null?void 0:t.anchor)!==void 0&&(typeof t.anchor=="number"?this.styles.anchorX=t.anchor:Array.isArray(t.anchor)&&(this.styles.anchorX=t.anchor[0])),(t==null?void 0:t.anchorY)!==void 0?this.styles.anchorY=t.anchorY:(t==null?void 0:t.anchor)!==void 0&&(typeof t.anchor=="number"?this.styles.anchorY=t.anchor:Array.isArray(t.anchor)&&t.anchor[1]!==void 0&&(this.styles.anchorY=t.anchor[1])),this.styles.background=(xt=(kt=t==null?void 0:t.background)!=null?kt:t==null?void 0:t.backgroundColor)!=null?xt:this.styles.background,this.styles.backgroundSize=(Ct=(St=t==null?void 0:t.backgroundSize)!=null?St:this.styles.backgroundSize)!=null?Ct:Xt[0],(this.styles.background instanceof Ht||this.styles.background instanceof It)&&(this.styles.backgroundSize="stretch"),this.styles.textAlign=(zt=t==null?void 0:t.textAlign)!=null?zt:this.styles.textAlign,this.styles.position=(Tt=t==null?void 0:t.position)!=null?Tt:this.styles.position,this.styles.verticalAlign=(Rt=(Wt=t==null?void 0:t.verticalAlign)!=null?Wt:this.styles.verticalAlign)!=null?Rt:Dt[0],this.styles.aspectRatio=(Pt=(Lt=t==null?void 0:t.aspectRatio)!=null?Lt:this.styles.aspectRatio)!=null?Pt:"static",this.styles.visible=(Bt=(At=t==null?void 0:t.visible)!=null?At:this.styles.visible)!=null?Bt:!0,this.visible=this.styles.visible,this._textStyle=K(t),t&&this.separateConditionalStyles(t)}get(t){return this.styles[t]}getAll(){return this.styles}get textStyle(){return this._textStyle}set opacity(t){this.styles.opacity=t,this.layout.container.alpha=t}get opacity(){return this.styles.opacity}set visible(t){this.layout.container.visible=t}get visible(){return this.layout.container.visible}applyConditionalStyles(){this.hasConditionalStyles&&this.set(X(X({},this.defaultStyles),this.layout.isRootLayoutPortrait?this.conditionalStyles.portrait:this.conditionalStyles.landscape))}separateConditionalStyles(t){if(!t.portrait&&!t.landscape){this.defaultStyles=X({},t);return}t.portrait&&(this.conditionalStyles.portrait=X(X({},this.conditionalStyles.portrait),t.portrait)),t.landscape&&(this.conditionalStyles.landscape=X(X({},this.conditionalStyles.landscape),t.landscape)),delete t.portrait,delete t.landscape,this.defaultStyles=t}get hasConditionalStyles(){return Object.keys(this.conditionalStyles).length>0}}var he=Object.defineProperty,qt=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,tt=(i,t,e)=>t in i?he(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Gt=(i,t)=>{for(var e in t||(t={}))ue.call(t,e)&&tt(i,e,t[e]);if(qt)for(var e of qt(t))de.call(t,e)&&tt(i,e,t[e]);return i},j=(i,t,e)=>(tt(i,typeof t!="symbol"?t+"":t,e),e);class et{constructor(t,e){if(j(this,"container"),j(this,"id"),j(this,"size"),j(this,"align"),j(this,"_style"),j(this,"content"),j(this,"isPortrait"),this.container=e||new B,this.id=t==null?void 0:t.id,t!=null&&t.globalStyles){const n=t.globalStyles[this.id];n&&t.styles?t.styles=Gt(Gt({},n),t.styles):n&&(t.styles=n)}this.size=new _t(this),this._style=new $t(this,t==null?void 0:t.styles),this.align=new Nt(this),this.content=new Et(this,t==null?void 0:t.content,t==null?void 0:t.globalStyles)}resize(t,e){const n=t||this.contentWidth||this.size.parentWidth,a=e||this.contentHeight||this.size.parentHeight;this.isPortrait=n<a,this._style.applyConditionalStyles(),this.size.resize(t,e)}refresh(){this.resize(this.size.parentWidth,this.size.parentHeight)}get contentWidth(){var t;if((t=this.container)!=null&&t.parent)return this.container.parent.width}get contentHeight(){var t;if((t=this.container)!=null&&t.parent)return this.container.parent.height}set width(t){this.size.width=t}get width(){return this.size.width}set height(t){this.size.height=t}get height(){return this.size.height}addContent(t){this.content.createContent(t),this.updateParents()}removeChildByID(t){this.content.removeContent(t)}getChildByID(t){return this.content.getByID(t)}updateParents(){this.getRootLayout().size.resize()}getRootLayout(){var t;return(t=this.container.parent)!=null&&t.layout?this.container.parent.layout.getRootLayout():this}setStyles(t){this._style.set(t),this.updateParents()}get textStyle(){return this._style.textStyle}get style(){return this._style.getAll()}get isRootLayoutPortrait(){return this.getRootLayout().isPortrait===!0}}class Y extends B{constructor(t){super(),j(this,"layout"),this.layout=new et(t,this)}get size(){return this.layout.size}get align(){return this.layout.align}get content(){return this.layout.content}get id(){return this.layout.id}set id(t){this.layout.id=t}get contentWidth(){return this.layout?this.layout.contentWidth:0}get contentHeight(){return this.layout?this.layout.contentHeight:0}set width(t){this.layout&&(this.layout.width=t)}get width(){return this.layout?this.layout.width:0}set height(t){this.layout&&(this.layout.height=t)}get height(){return this.layout?this.layout.height:0}addContent(t){this.layout.addContent(t)}removeChildByID(t){this.layout.removeChildByID(t)}getChildByID(t){return this.layout.getChildByID(t)}setStyles(t){this.layout.setStyles(t)}get textStyle(){return this.layout.textStyle}get style(){return this.layout.style}resize(t,e){this.layout.resize(t,e)}refresh(){this.resize(this.size.parentWidth,this.size.parentHeight)}}B.prototype.initLayout||Object.defineProperty(B.prototype,"initLayout",{value(i){return this.layout||(this.layout=new et(i,this),this.isPixiLayout=!0),this}});var ce=Object.defineProperty,ye=(i,t,e)=>t in i?ce(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,ge=(i,t,e)=>(ye(i,typeof t!="symbol"?t+"":t,e),e);class Nt{constructor(t){ge(this,"layout"),this.layout=t}resize(t,e){this.setSelfPosition(t,e),this.layout.content.resize(this.layout.width,this.layout.height),this.alignChildren(this.layout.width,this.layout.height)}alignChildren(t,e){var n,a,c,d;let y=0;const{style:r}=this.layout,p=(n=r.paddingTop)!=null?n:0,g=(a=r.paddingRight)!=null?a:0,h=(c=r.paddingBottom)!=null?c:0,u=(d=r.paddingLeft)!=null?d:0;let o=u,s=p;this.layout.content.children.forEach(l=>{if(!l.height&&!l.width)return;if(l instanceof $&&q(this.layout)){const b=t-u-g,k=r.textAlign;l.width<b?k==="center"?(l.anchor.x=.5,l.x=t/2):k==="right"?(l.anchor.x=1,l.x=t-g):(l.anchor.x=0,l.x=u):(l.anchor.x=0,l.x=u);const S=r.verticalAlign,O=e-p-h;l.height<O?S==="middle"?(l.anchor.y=.5,l.y=e/2):S==="bottom"?(l.anchor.y=1,l.y=e-h):(l.anchor.y=0,l.y=p):(l.anchor.y=0,l.y=p);return}let f="inline-block",m=0,w=0,v=0,R=0;if(l.isPixiLayout||l instanceof Y){const b=l.layout;if(f=b.style.display,m=b.style.marginLeft,w=b.style.marginRight,v=b.style.marginTop,R=b.style.marginBottom,b.style.position!==void 0)return}let H=0,I=0;r.position===void 0&&(H=r.anchorX!==void 0?r.anchorX*this.layout.width:0,I=r.anchorY!==void 0?r.anchorY*this.layout.height:0),l.x=o+m-H,l.y=s+v-I,l.height+v+R>y&&(y=l.height+v+R);const L=t-g;f==="block"&&l.width<L&&(f="inline-block");const z=o+l.width+w<=L,P=l===this.layout.content.firstChild;switch(f){case"inline":case"inline-block":!z&&!P?(o=u+l.width+w,s+=y,l.x=u+m,l.y=s+v):o+=l.width+w;break;default:s+=l.height+R;break}})}setSelfPosition(t,e){const{position:n,marginRight:a,marginBottom:c,marginTop:d,marginLeft:y}=this.layout.style||{},{style:r}=this.layout;if(!n)return;const p=this.layout.container.scale.x,g=this.layout.container.scale.y,h=this.layout.width*p,u=this.layout.height*g,o=r.anchorX,s=r.anchorY,l={x:0,y:0};switch(n){case"rightTop":case"topRight":case"right":l.x=t-a-h*(o!=null?o:1),l.y=d-u*(s!=null?s:0);break;case"leftBottom":case"bottomLeft":case"bottom":l.x=y-h*(o!=null?o:0),l.y=e-c-u*(s!=null?s:1);break;case"rightBottom":case"bottomRight":l.x=t-a-h*(o!=null?o:1),l.y=e-c-u*(s!=null?s:1);break;case"center":l.x=t/2-h*(o!=null?o:.5)+y,l.y=e/2-u*(s!=null?s:.5)+d;break;case"centerTop":case"topCenter":l.x=t/2-h*(o!=null?o:.5)+y,l.y=d-u*(s!=null?s:0);break;case"centerBottom":case"bottomCenter":l.x=t/2-h*(o!=null?o:.5)+y,l.y=e-c-u*(s!=null?s:1);break;case"centerLeft":case"leftCenter":l.x=y-h*(o!=null?o:0),l.y=e/2-u*(s!=null?s:.5)+d;break;case"centerRight":case"rightCenter":l.x=t-a-h*(o!=null?o:1),l.y=e/2-u*(s!=null?s:.5)+d;break;case"leftTop":case"topLeft":case"left":case"top":default:l.x=y-h*(o!=null?o:0),l.y=d-u*(s!=null?s:0)}this.layout.container.position.set(l.x,l.y)}}export{se as ALIGN,Nt as AlignController,Xt as BACKGROUND_SIZE,ee as CSS_COLOR_NAMES,Et as ContentController,le as DISPLAY,ie as LOREM_TEXT,Y as Layout,et as LayoutSystem,jt as OVERFLOW,ne as POSITION,_t as SizeController,$t as StyleController,Dt as VERTICAL_ALIGN};
//# sourceMappingURL=pixi-layout.mjs.map
